<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    </head>

    <body>
        <svg id="map"></svg>
        <script src="../../../build/eurostatmap.js"></script>

        <script>
            const exampleGraph = {
                nodes: [
                    { id: 'FR', name: 'France' },
                    { id: 'DE', name: 'Germany' },
                    { id: 'IT', name: 'Italy' },
                    { id: 'ES', name: 'Spain' },
                    { id: 'BE', name: 'Belgium' },
                    { id: 'NL', name: 'Netherlands' },
                    { id: 'CH', name: 'Switzerland' },
                    { id: 'PL', name: 'Poland' },
                    { id: 'PT', name: 'Portugal' },
                    { id: 'AT', name: 'Austria' },
                    { id: 'CZ', name: 'Czechia' },
                    { id: 'MT', name: 'Malta' },
                    { id: 'IE', name: 'Ireland' },
                    { id: 'RO', name: 'Romania' },
                    { id: 'DK', name: 'Denmark' },
                    { id: 'HU', name: 'Hungary' },
                    { id: 'SK', name: 'Slovakia' },
                    { id: 'LU', name: 'Luxembourg' },
                    { id: 'SI', name: 'Slovenia' },
                    { id: 'LT', name: 'Lithuania' },
                    { id: 'RS', name: 'Serbia' },
                    { id: 'IS', name: 'Iceland' },
                    { id: 'LV', name: 'Latvia' },
                    { id: 'HR', name: 'Croatia' },
                    { id: 'MK', name: 'North Macedonia' },
                    { id: 'CY', name: 'Cyprus' },
                    { id: 'SE', name: 'Sweden' },
                ],
                links: [
                    { source: 'FR', target: 'DE', value: 82018369 },
                    { source: 'FR', target: 'IT', value: 49697198 },
                    { source: 'FR', target: 'ES', value: 45422327 },
                    { source: 'FR', target: 'BE', value: 43038180 },
                    { source: 'FR', target: 'NL', value: 34453478 },
                    { source: 'FR', target: 'CH', value: 16164188 },
                    { source: 'FR', target: 'PL', value: 12673336 },
                    { source: 'FR', target: 'PT', value: 7178656 },
                    { source: 'FR', target: 'AT', value: 6305366 },
                    { source: 'FR', target: 'CZ', value: 5883790 },
                    { source: 'ES', target: 'IT', value: 5883790 },
                    { source: 'ES', target: 'MT', value: 19883790 },
                    { source: 'ES', target: 'IE', value: 5287477 },
                    { source: 'ES', target: 'RO', value: 4460277 },
                    { source: 'ES', target: 'DK', value: 3843262 },
                    { source: 'ES', target: 'HU', value: 3624585 },
                    { source: 'SE', target: 'SK', value: 3003919 },
                    { source: 'SE', target: 'LU', value: 2206077 },
                    { source: 'SE', target: 'SI', value: 1538814 },
                    { source: 'SE', target: 'LT', value: 737286 },
                    { source: 'SE', target: 'RS', value: 602221 },
                    { source: 'SE', target: 'IS', value: 405879 },
                    { source: 'SE', target: 'LV', value: 374371 },
                    { source: 'SE', target: 'HR', value: 371224 },
                    { source: 'SE', target: 'MK', value: 71053 },
                    { source: 'SE', target: 'CY', value: 42471 },
                ],
            }

            //  // total trade
            //`https://ec.europa.eu/eurostat/api/dissemination/statistics/1.0/data/ext_tec10?format=json&lang=en&unit=THS_EUR&sizeclas=TOTAL&stk_flow=EXP&partner=${exporter.value}&time=2021&geoLevel=country`
            //[{"id":"DE","value":82018369.72,"name":"Germany"},{"id":"IT","value":49697198.92,"name":"Italy"},{"id":"ES","value":45422327.56,"name":"Spain"},{"id":"BE","value":43038180.93,"name":"Belgium"},{"id":"NL","value":34453478.99,"name":"Netherlands"},{"id":"CH","value":16164188.98,"name":"Switzerland"},{"id":"PL","value":12673336.04,"name":"Poland"},{"id":"PT","value":7178656.08,"name":"Portugal"},{"id":"AT","value":6305366.1,"name":"Austria"},{"id":"CZ","value":5883790.49,"name":"Czechia"},{"id":"IE","value":5287477.09,"name":"Ireland"},{"id":"RO","value":4460277.11,"name":"Romania"},{"id":"DK","value":3843262.72,"name":"Denmark"},{"id":"HU","value":3624585.56,"name":"Hungary"},{"id":"SK","value":3003919.1,"name":"Slovakia"},{"id":"LU","value":2206077.33,"name":"Luxembourg"},{"id":"SI","value":1538814.42,"name":"Slovenia"},{"id":"LT","value":737286.81,"name":"Lithuania"},{"id":"RS","value":602221.24,"name":"Serbia"},{"id":"IS","value":405879.59,"name":"Iceland"},{"id":"LV","value":374371.49,"name":"Latvia"},{"id":"HR","value":371224.02,"name":"Croatia"},{"id":"MT","value":160032.27,"name":"Malta"},{"id":"MK","value":71053.23,"name":"North Macedonia"},{"id":"CY","value":42471.05,"name":"Cyprus"},{"id":"BG","value":null,"name":"Bulgaria"},{"id":"EE","value":null,"name":"Estonia"},{"id":"EL","value":null,"name":"Greece"},{"id":"FR","value":null,"name":"France"},{"id":"FI","value":null,"name":"Finland"},{"id":"SE","value":null,"name":"Sweden"},{"id":"NO","value":null,"name":"Norway"},{"id":"UK","value":null,"name":"United Kingdom"},{"id":"BA","value":null,"name":"Bosnia and Herzegovina"},{"id":"TR","value":null,"name":"TÃ¼rkiye"},{"id":"XK","value":null,"name":"Kosovo*"}]
            const map = eurostatmap
                .map('flow')
                .title('Test')
                .subtitle('test')
                .flowGraph(exampleGraph)
                .flowColor('#72bb6f')
                .flowOverlayColors(['#bbd7ee', '#c7e3c6']) // exporter, importers
                .flowArrows(false)
                .flowOutlines(false)
                .flowDonuts(true)
                .flowLabelOffsets({ x: 9, y: 0 }) // Offsets for flow labels
                .labels({
                    values: false,
                    backgrounds: true,
                    shadows: false,
                })
                .nutsLevel(0)
                .legend({
                    x: 570,
                    y: 10,
                    boxOpacity: 1,
                    flowSizeLegend: { title: 'Flow trade volume' },
                    donutSizeLegend: { title: 'Cumulative trade volume' },
                })
                .drawCoastalMargin(false)
                .insets(false)
                .zoomExtent([1, 10])
                .build()
        </script>
    </body>
</html>
