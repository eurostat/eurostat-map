<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <style>
            .em-legend-label {
                font-size: 13px !important;
            }
        </style>
    </head>

    <body>
        <svg id="histogram"></svg>
        <script src="../../../build/eurostatmap.js"></script>
        <!-- <script src="https://unpkg.com/eurostat-map@4.2.0"></script> -->
        <script>
            const horizontal = false // true for horizontal, false for vertical histogram
            let map = eurostatmap
                .map('choropleth')
                .position({ x: 5110000, y: 3500000, z: 6200 })
                .svgId('histogram')
                .title('GDP per inhabitant')
                .subtitle('2022')
                .nutsLevel(1)
                .nutsYear(2021)
                .stat({
                    eurostatDatasetCode: 'nama_10r_3gdp',
                    unitText: 'Euro per inhabitant',
                    filters: { TIME: '2022', UNIT: 'EUR_HAB' },
                })
                .tooltip({ omitRegions: ['RU', 'BY', 'IL', 'PS'] })
                .classificationMethod('threshold')
                .thresholds([20000, 25000, 30000, 35000, 40000, 45000, 50000])
                .legend({
                    title: 'test title',
                    subtitle: 'test subtitle',
                    x: horizontal ? 530 : 540,
                    y: 10,
                    boxOpacity: 0.9,
                    title: 'Euro per inhabitant',
                    labelType: 'thresholds',
                    histogram: {
                        height: horizontal ? 190 : 190,
                        width: horizontal ? 240 : 190,
                        orientation: horizontal ? 'horizontal' : 'vertical',
                        //showCounts: true,
                        showPercentages: true,
                        labelRotation: horizontal ? 80 : 90,
                        margin: { top: 0, right: 0, bottom: 0, left: horizontal ? 0 : 120 },
                    },
                })

            map.build()
        </script>
    </body>
</html>
