<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body>
    <svg id="basic"></svg>
    <svg id="legend"></svg>
    <script src="../build/eurostatmap.js"></script>
    <script>
        // basic barebones example
        let map = eurostatmap.map("ps")
            .svgId("basic")
            .nutsLvl(0)
            .geo("WORLD")
            .legend({
                svgId: "legend",
                
                sizeLegend: {
                    shapePadding: 10,
                    titlePadding: 10,
                    shapeOffset: { x: 0, y: 10 },
                    labelOffset: 10,
                    title: "first",
                }
            })
            .psMaxSize(30)
            .psMinSize(2)
            .psClassifMethod("threshold")
            .psThreshold([100, 200, 302, 400, 500])
            .psColors(["#2d50a0", "#6487c3", "#aab9e1", "#f0cd91", "#e6a532", "#d76e2d"].reverse())

        map.statData('size').setData({ ES: 1110, DE: 1000, FR: 500, US:100, DZ:100,CN:100,IN:100,AU:200,BR:200,AR:300,CN:100 })
        map.build();

        setTimeout(() => {
            // update map, should update classification, style and legend
            map.psShape('square')
                .psFillOpacity(0.8)
                .psMaxSize(50)
                .psMinSize(20)
                .psClassifMethod("threshold")
                .psThreshold([1000, 2000, 3020, 4000, 5000])
                .legend({
                    svgId: "legend",
                    sizeLegend: {
                        shapePadding: 90,
                        titlePadding: -60,
                        shapeOffset: { x: 0, y: -30 },
                        labelOffset: 70,
                        title: "second",
                    }
                })
                .psColors(["#2d50a0", "#6487c3", "#aab9e1", "#f0cd91", "#e6a532", "#d76e2d"])

            map.statData('size').setData({ ES: 0, DE: 10000, FR: 5000 })
            map.updateStatValues();

        }, 3000)
    </script>
</body>

</html>