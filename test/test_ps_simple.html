<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body>
    <svg id="basic"></svg>
    <svg id="legend"></svg>
    <script src="../build/eurostatmap.js"></script>
    <script src="./data/mixed.js"></script>
    <script>
        let nutsbnStrokeWidth = { 0: 0, 1: 0.4, 2: 0.4, 3: 0.4, oth: 0, co: 0.4 };
        let cntbnStrokeWidth = { eu: 1, efta: 1, cc: 1, oth: 0, co: 0.5 };
        let nutsbnStroke = {
            0: '#000',
            1: '#000',
            2: '#000',
            3: '#000',
            co: '#000'
        };
            // basic barebones example
            let map = eurostatmap.map("ps")
                .svgId("basic")
                .nutsLvl('mixed')
                //.geo("WORLD")
                //.countriesToShow(["DE"])
                .psOffset({x:-10,y:-10}).psMaxSize(2).psMinSize(0.1).psShape('custom').psCustomPath('M15 5.5C16.58 5.5 18 6 19.2 7.08L21 5.3C19.3 3.77 17.3 3 15 3C13.05 3 11.3 3.56 9.76 4.69S7.13 7.25 6.5 9H2L3 11H6.03C6 11.2 6 11.53 6 12S6 12.8 6.03 13H2L3 15H6.5C7.13 16.75 8.21 18.19 9.76 19.31S13.05 21 15 21C15.92 21 17 20.77 18.17 20.32S20.3 19.33 21 18.7L19.2 16.92C18 18 16.58 18.5 15 18.5C13.89 18.5 12.78 18.17 11.66 17.5S9.72 15.97 9.22 15H15.97L15 13H8.56C8.5 12.55 8.47 12.22 8.47 12C8.47 11.78 8.5 11.45 8.56 11H15.97L15 9H9.22C9.72 8.03 10.53 7.2 11.66 6.5S13.89 5.5 15 5.5Z')
                .worldCoastStroke('#000')
                .worldCoastStrokeWidth(0.1)
                .seaFillStyle("#E6FFFF")
                .cntrgFillStyle("#E6E6E6")
                .nutsrgFillStyle("#ffffff")
                .legend({
                    svgId: "legend",
                    height: 600,
                    sizeLegend: {
                        values: [10,5,1],
                        shapePadding: 5,
                        // titlePadding: 10,
                        // values: [10, 5,4,3,2,1],
                        // shapeOffset: { x: 0, y: 0 },
                         labelOffset: { x: 50, y: 0 },
                        title: "first asdg asg asdg ",
                    }
                })


        map.statData('size').setData(mixedNUTS)
        map.build();

        // setTimeout(()=>{
        //     map.psOffset({x:-10,y:-20}).psMaxSize(1).psMinSize(0.1).psShape('custom').psCustomPath('M15 5.5C16.58 5.5 18 6 19.2 7.08L21 5.3C19.3 3.77 17.3 3 15 3C13.05 3 11.3 3.56 9.76 4.69S7.13 7.25 6.5 9H2L3 11H6.03C6 11.2 6 11.53 6 12S6 12.8 6.03 13H2L3 15H6.5C7.13 16.75 8.21 18.19 9.76 19.31S13.05 21 15 21C15.92 21 17 20.77 18.17 20.32S20.3 19.33 21 18.7L19.2 16.92C18 18 16.58 18.5 15 18.5C13.89 18.5 12.78 18.17 11.66 17.5S9.72 15.97 9.22 15H15.97L15 13H8.56C8.5 12.55 8.47 12.22 8.47 12C8.47 11.78 8.5 11.45 8.56 11H15.97L15 9H9.22C9.72 8.03 10.53 7.2 11.66 6.5S13.89 5.5 15 5.5Z').build()
        // },2000)


        setTimeout(()=>{
            map.legend({
                    svgId: "legend",
                    sizeLegend: {
                        shapePadding: 10,
                        titlePadding: -10,
                        values: [10, 8,7,6,5, 1],
                        labelOffset: { x: 50, y: 0 },
                        title: "SECOND",
                    }
                })
        },2000)


        // setTimeout(() => {
        //     // update map, should update classification, style and legend
        //     map.psShape('square')
        //         .psFillOpacity(0.8)
        //         .psMaxSize(50)
        //         .psMinSize(20)
        //         .psClassifMethod("threshold")
        //         .psThreshold([1000, 2000, 3020, 4000, 5000])
        //         .legend({
        //             svgId: "legend",
        //             sizeLegend: {
        //                 shapePadding: 90,
        //                 titlePadding: -60,
        //                 shapeOffset: { x: 0, y: -30 },
        //                 labelOffset: 70,
        //                 title: "second",
        //             }
        //         })
        //         .psColors(["#2d50a0", "#6487c3", "#aab9e1", "#f0cd91", "#e6a532", "#d76e2d"])

        //     map.statData('size').setData({ ES: 0, DE: 10000, FR: 5000 })
        //     map.updateStatValues();

        // }, 3000)
    </script>
</body>

</html>