<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>eurostat-map.js</title>
</head>

<body>
    <svg id="map"></svg>
    <script src="../build/eurostatmap.js"></script>
    <script>
        let map = eurostatmap.map("ch")
            .width(900)
            .title("Population in Europe")
            .titleFontSize(40)
            .titleFill("#444")
            .scale("60M")
            .classifMethod("threshold")
            .filtersDefinitionFun(eurostatmap.getFillPatternDefinitionFun({ patternSize: 5, shape: "circle", bckColor: "white", symbColor: "black" }))
            .nutsbnStroke({ 0: "#777", 1: "#777", 2: "#777", 3: "#777", oth: "#444", co: "#777" })
            .nutsbnStrokeWidth({ 0: 1, 1: 0.2, 2: 0.2, 3: 0.2, oth: 1, co: 1 })
            .nutsrgSelFillSty("darkblue")
            .seaFillStyle("#e9e9e9")
            .coastalMarginColor("#777")
            .coastalMarginStdDev(10)
            .coastalMarginWidth(5)
            .graticuleStroke("#888")
            .tooltipShowFlags(false)
            .threshold([1, 2, 3])
            .legend({
                title: "Density - inhab./kmÂ²",
                labelDecNb: 0,
                shapeHeight:10,
                shapeWidth:100,
                x: 700,
                noData: false,
            }).nutsLvl("mixed")


        map.statData().setData({ ES: 2, FR: 3, DE: 4, HU: 5 })
        map.build();



        // update data, classification
        setTimeout(() => {
            // map.statData('size').setData({ ES: 0, DE: 10000, FR: 5000 })
            // map.filtersDefinitionFun(eurostatmap.getFillPatternDefinitionFun({
            //     patternSize: 5,
            //     shape: 'square',
            //     bckColor: 'black',
            //     symbColor: 'white',
            // }))
            
            map.threshold([1,3,6,9,12,15]).filtersDefinitionFun(eurostatmap.getFillPatternDefinitionFun({
            patternSize: 5,
            shape: 'square',
            bckColor: 'white',
            symbColor: 'red',
        }));
            map.legend({
                title: "title2",
                labelDecNb: 0,
                shapeHeight: 5,
                shapeWidth: 20,
                x: 700,
                noData: false,
            })
            map.updateStatValues();
        }, 2000);
    </script>
</body>

</html>