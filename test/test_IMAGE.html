<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
</head>

<body>
  <svg id="map"></svg>
  <script src="../build/eurostatmap.js"></script>
  <script src="./data/nuts3.js"></script>
  <script src="./configs/insetConfig.js"></script>
  <script>
    let mapWidth = 638;
    let mapHeight = 608;

    basemap = function () {
      return eurostatmap
        .map("ch")
        .pixSize(7400)
        .width(mapWidth)
        .height(mapHeight)
        .bottomText(null)
        .showSourceLink(false)
        //.nutsLvl("mixed")
        .nutsLvl(0)
        .classifMethod("threshold")
        .colors(['#f7fcfd','#e5f5f9','#ccece6','#99d8c9','#66c2a4','#41ae76','#238b45','#006d2c','#00441b'])
        .threshold([-10, -5, 0, 4, 5,6,7,8,999,999])
        .drawGraticule(true)
        .graticuleStroke("#ccc")
        .graticuleStrokeWidth(0.5)
        .geoCenter([4980000, 3610000])
        .legend(false)
        .drawCoastalMargin(false)
        .seaFillStyle("#E6FFFF")
        .cntrgFillStyle("#E6E6E6")
        .nutsrgFillStyle("#E6E6E6")
        .nutsbnStroke({
          0: "#000",
          1: "#000",
          2: "#000",
          3: "#000",
          co: "grey",
        })
        .nutsbnStrokeWidth({ 0: 0, 1: 0.4, 2: 0.4, 3: 0.4, oth:0, co:0 })
        .cntbnStrokeWidth({ eu: 1, efta: 1, cc: 1, oth: 0.2, co: 0.2 })
        .bordersToShow(['eu','co','cc','efta'])
        .insets(insetsConfig)
        .zoomExtent([1,10])
        .showScalebar(true)
        .scalebarPosition([420,560])

      // adjust regions to show
        //.bordersToShow(["eu", "co","cc"])
        .nutsYear(2016)
        //.countriesToShow(['AT', 'BE', 'BG', 'CY', 'CZ', 'DE', 'DK', 'EE', 'EL', 'ES', 'FI', 'FR', 'HR', 'HU', 'IE', 'IS', 'IT', 'LI', 'LT', 'LU', 'LV', 'MT', 'NL', 'PL', 'PT', 'RO', 'SE', 'SI', 'SK', 'UK', 'RS']);
    };

    let map = basemap();
    map.statData().setData({ES:0.00, DE:'0.00', XK: 2});
    map.build();

    // setTimeout(()=>{
    //   map.nutsLvl("mixed")
    //   map.statData().setData({UK: 7});
    //   map.build();
    // },5000)
    // let i = 0;
    // loopBetweenNUTS = function () {
    //   setTimeout(() => {
    //     let map = basemap();
    //     i++;
    //     let g = i % 2;
    //     if (g == 0) {
    //       map.statData().setData(data);
    //       map.build();
    //     } else {
    //       map.statData().setData(data3);
    //       map.build();
    //     }

    //     loopBetweenNUTS();
    //   }, 3000);
    // };

    //loopBetweenNUTS();

    
  </script>
</body>

</html>