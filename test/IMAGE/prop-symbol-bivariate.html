<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    </head>

    <body>
        <svg style="width: 100%; height: 1000px">
            <svg id="map" x="2px" y="2px"></svg>
            <svg id="map2" x="700px" y="2px"></svg>
            <svg id="eurostatmap-legend" x="0px" y="620px"></svg>
        </svg>

        <script src="../configs/insetConfig.js"></script>
        <script src="../../build/eurostatmap.js"></script>
        <script src="../data/nuts3.js"></script>
        <script>
            let mapWidth = 638
            let mapHeight = 608
            let maxRadius = 30

            let sizedata = {
                ES: 0,
                FR: ':',
                DE: 300,
                IT: 400,
                LI: 500,
                CZ: 600,
                CH: 700,
                UK: 800,
                NO: 900,
                NL: 1000,
                PO: 1100,
                RO: 1200,
                DE11: 1000,
            }
            let colordata = {
                ES: 0,
                FR: ':',
                DE: 300,
                IT: 400,
                LI: 500,
                CZ: 600,
                CH: 700,
                UK: 800,
                NO: 900,
                NL: 1000,
                PO: 1100,
                RO: 1200,
                DE11: 1000,
            }

            let map = eurostatmap
                .map('proportionalSymbol')
                .pixSize(7400)
                .insets(insetsConfig)
                .insetBoxPosition([400, 10])
                .width(mapWidth)
                .height(mapHeight)
                .labelling(false)
                .labelsToShow(['values'])
                .nutsLvl('mixed')
                .psFill('#4ac499')
                .psShape('circle')
                .psMaxSize(maxRadius)
                .legend({
                    //svgId: "eurostatmap-legend",
                    x: 10,
                    y: 200,
                    noDataShapeWidth: 26,
                    noDataShapeHeight: 14,
                    sizeLegend: {
                        title: 'legend title',
                        noData: true,
                    },
                    colorLegend: false,
                })

            let mapCallbacksFired = 0
            map.callback((map) => {
                mapCallbacksFired++
                console.log(mapCallbacksFired)
            })

            //map.statData('size').setData(sizedata)
            map.statData().setData(sizedata)
            map.statData('color').setData(colordata)
            map.updateClassification()
            map.updateStyle()
            map.build()
        </script>
    </body>
</html>
