<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    </head>

    <body>
        <div style="margin-left: 1%">
            <svg id="container" width="1800" height="800">
                <svg id="mappy"></svg>
                <!-- insets -->
                <svg id="inset0" width="80" height="80" y="650" x="0"></svg>
                <svg id="inset1" y="650" x="80"></svg>
                <svg id="inset2" y="667" x="80"></svg>
                <svg id="inset3" y="650" x="160"></svg>
                <svg id="inset4" y="650" x="350"></svg>
                <svg id="inset5" y="650" x="440"></svg>
                <svg id="inset6" y="650" x="530"></svg>
                <svg id="inset7" y="650" x="620"></svg>
                <svg id="inset8" y="650" x="710"></svg>
                <svg id="inset9" y="650" x="800"></svg>
                <svg id="inset10" y="650" x="890"></svg>
                <svg id="inset11" y="650" x="980"></svg>
                <svg id="inset12" y="650" x="1070"></svg>
                <svg id="inset13" y="650" x="1160"></svg>
            </svg>
        </div>

        <script src="../../build/eurostatmap.js"></script>
        <script src="../data/nuts3.js"></script>
        <script src="../configs/insetConfig_ext.js"></script>
        <script src="../data/mixed.js"></script>
        <script>
            let mapWidth = 638
            let mapHeight = 608

            basemap = function () {
                return (
                    eurostatmap
                        .map('proportionalSymbol')
                        .svgId('mappy')
                        .containerId('container')
                        .pixelSize(7400)
                        .width(mapWidth)
                        .height(mapHeight)
                        .bottomText(null)
                        .showSourceLink(false)
                        .nutsLevel('mixed').psMaxSize(10)
                        //.nutsLevel(0)
                        .drawGraticule(true)
                        .graticuleStroke('#ccc')
                        .graticuleStrokeWidth(0.5)
                        .geoCenter([4980000, 3610000])
                        .legend({
                            ascending: true,
                            boxPadding: 5,
                            boxOpacity: 0,
                            boxMargin: 0,
                            x: 25,
                            y: 330,
                            shapeHeight: 20,
                            shapeWidth: 50,
                            sepLineLength: 55,
                            decimals: 0,
                            title: 'title',
                            titleFontSize: 20,
                            labelFontSize: 15,
                            noData: true,
                        })
                        .drawCoastalMargin(false)
                        .cntrgFillStyle('#E6E6E6')
                        .nutsrgFillStyle('#E6E6E6')
                        .nutsbnStroke({
                            0: '#000',
                            1: '#000',
                            2: '#000',
                            3: '#000',
                            co: 'grey',
                        })
                        .noDataFillStyle('darkgrey')
                        .nutsbnStrokeWidth({ 0: 2, 1: 0.4, 2: 0.4, 3: 0.4, oth: 2, co: 0 })
                        .cntbnStrokeWidth({ eu: 1, efta: 1, cc: 1, oth: 2, co: 0.2 })
                        .bordersToShow(['eu', 'co', 'cc', 'efta'])
                        .insets(insetsConfig)
                        //.zoomExtent([1,10])
                        .showScalebar(true)
                        .scalebarPosition([420, 560])
                        .hoverColor('#003E8C')
                        .drawCoastalMargin(true)
                )
            }

            let exampleData1 = {
                FRY: 120,
                TRB: 110,
                AT: 130,
                BE: 110,
                BG: 150,
                CY: 170,
                CZ: 100,
                DE: ':',
                DK: 100,
                EE: 190,
                EL: 180,
                ES: 75,
                ES30: ':',
                FI: 150,
                FR: 140,
                HR: 130,
                HU: 120,
                IE: 110,
                IS: 120,
                IT: 130,
                LI: 140,
                LT: 150,
                LU: 160,
                LV: 170,
                MT: 180,
                NL: 190,
                PL: 110,
                PT: 120,
                RO: 130,
                SE: 140,
                SI: 150,
                SK: 160,
                UK: 170,
                RS: 180,
                CH: 170,
                NO: 140,
                ME: 160,
                MK: 130,
                AL: 120,
                TR: 110,
            }
            let exampleData2 = { ES: 10 }
            let map = basemap()
            map.statData().setData(exampleData1)
            map.statData('color').setData(exampleData1)

            // apply labelling
            setTimeout(() => {
                // map.labelling(true)
                //     .labelsToShow(['seas', 'values', 'countries'])
                //     .labelValuesFontSize(10)
                //     .labelFill({ seas: '#012a7c', cc: 'black', values: 'black' })
                //     .labelShadow(true)
                // map.updateLabels()
                map.drawCoastalMargin(false)
            }, 2000)

            // setTimeout(() => {
            //     // map.labelling(true)
            //     //     .labelsToShow(['values'])
            //     //     .labelValuesFontSize(10)
            //     //     .labelFill({ seas: '#012a7c', cc: 'black', values: 'black' })
            //     //     .labelShadow(true)
            //     // map.updateLabels()
            // }, 4000)

            map.build()

            setTimeout(() => {
                // map.labelling(true)
                //     .labelsToShow(['seas', 'countries'])
                //     .labelValuesFontSize(10)
                //     .labelFill({ seas: '#012a7c', cc: 'black', values: 'black' })
                //     .labelShadow(true)

                // // update insets
                // map.insetTemplates_.MT.labelling(true).labelsToShow(['values'])

                // map.updateLabels()

                map.drawCoastalMargin(true)
            }, 3000)
        </script>
    </body>
</html>
