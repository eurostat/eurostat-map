<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    </head>

    <body style="margin: 0">
        <svg id="map"></svg>
        <script src="../../build/eurostatmap.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/d3-array@3"></script>
        <script src="https://cdn.jsdelivr.net/npm/d3-geo@3"></script>
        <script src="https://cdn.jsdelivr.net/npm/d3-geo-projection@4"></script>

        <script>
            let mapConfig = {
                geo: 'WORLD',
                width: 982.68,
                height: 491.34,
                frameStroke: 'white',
                frameStrokeWidth: 0,
                pixSize: 5000,
                geoCenter: [14, 17],
                projectionFunction: d3
                    //.geoRobinson()
                    .geoWinkel3()
                    // center and scale to container properly
                    .translate([982.68 / 2, 491.34 / 2])
                    .scale((982.68 - 20) / 2 / Math.PI + 0.1),
            }
            const map = eurostatmap
                .map('ch')
                .width(mapConfig.width)
                .height(mapConfig.height)
                // common
                .nuts2jsonBaseURL('https://gisco-services.ec.europa.eu/pub/nuts2json/v2/') //nuts2json geometries retrieved internally
                .containerId('map') //for tooltip overflow control
                .seaFillStyle('white')
                .scale('10M')
                .nutsrgSelFillSty('yellow')
                .cntrgFillStyle('lightgrey')
                .nutsrgFillStyle('lightgrey')
                //specific
                .pixSize(mapConfig.pixSize)
                .geoCenter(mapConfig.geoCenter)
                .frameStrokeWidth(mapConfig.frameStrokeWidth)
                .frameStroke(mapConfig.frameStroke)
                .nutsLvl(0)
                .geo(mapConfig.geo)
                .cntbnStroke(mapConfig.cntbnStroke)
                .cntbnStrokeWidth(mapConfig.cntbnStrokeWidth)
                .tooltipText(this.tooltipWorld)
                .worldCoastStroke('#000')
                .worldCoastStrokeWidth(0.1)
                .projectionFunction(mapConfig.projectionFunction)
                .legend({
                    title: 'test',
                    x: 10,
                    y: 10,
                })

            let data = {
                AM: 50,
                AO: 97,
                AR: 9,
                AS: 29,
                AT: 17,
                AU: 48,
                AW: 98,
                AZ: 84,
                AQ: 35,
                AD: 46,
                AE: 74,
                AF: 46,
                AG: 79,
                AI: 17,
                AL: 18,
                BA: 95,
                BB: 17,
                BD: 69,
                BE: 0,
                BF: 68,
                BG: 41,
                BH: 48,
                BI: 46,
                BJ: 88,
                BL: 20,
                BM: 34,
                BN: 47,
                BO: 15,
                BQ: 7,
                BR: 38,
                BS: 51,
                BT: 25,
                BV: 82,
                BW: 62,
                BY: 13,
                BZ: 76,
                CN: 62,
                CO: 49,
                CP: 72,
                CR: 65,
                CU: 2,
                CV: 97,
                CW: 96,
                CX: 56,
                CY: 23,
                CZ: 64,
                CM: 25,
                CA: 6,
                CC: 47,
                CD: 36,
                CF: 80,
                CG: 18,
                CH: 45,
                CI: 78,
                CK: 16,
                CL: 33,
                EL: 94,
                OM: 21,
                ES: 44,
                ET: 18,
                FI: 74,
                FJ: 42,
                FK: 70,
                FM: 23,
                FO: 12,
                GG: 20,
                GH: 94,
                GI: 1,
                GW: 43,
                GY: 86,
                HK: 9,
                HM: 60,
                GL: 93,
                GM: 72,
                GN: 25,
                GQ: 53,
                GS: 6,
                GT: 33,
                GU: 55,
                FR: 86,
                HR: 7,
                HT: 98,
                HU: 7,
                IS: 71,
                IT: 17,
                JE: 11,
                JM: 65,
                JO: 22,
                KE: 54,
                KG: 37,
                DE: 66,
                DJ: 52,
                DK: 0,
                DM: 73,
                DO: 63,
                DZ: 64,
                EC: 23,
                EE: 74,
                EG: 82,
                EH: 61,
                ER: 48,
                GA: 49,
                GD: 36,
                GE: 63,
                HN: 61,
                NG: 88,
                NL: 61,
                NP: 40,
                NR: 87,
                NU: 27,
                KN: 32,
                KP: 9,
                NO: 87,
                KH: 40,
                KI: 84,
                JP: 97,
                KM: 32,
                ID: 90,
                IE: 91,
                IL: 23,
                IM: 72,
                IO: 52,
                IQ: 69,
                NI: 33,
                IN: 90,
                IR: 76,
                KR: 95,
                KW: 85,
                KY: 66,
                KZ: 44,
                LA: 83,
                LB: 39,
                LC: 34,
                LI: 65,
                LK: 74,
                PE: 21,
                PF: 96,
                PK: 44,
                PL: 96,
                PM: 66,
                PN: 30,
                PG: 54,
                LR: 16,
                LS: 74,
                LT: 44,
                LU: 43,
                LV: 90,
                LY: 76,
                MA: 82,
                MC: 71,
                MD: 75,
                ME: 57,
                MG: 90,
                MH: 16,
                MK: 75,
                ML: 86,
                MM: 15,
                MN: 54,
                MO: 9,
                MP: 57,
                MR: 75,
                MS: 16,
                MT: 26,
                MU: 32,
                MV: 96,
                MW: 48,
                MX: 21,
                MY: 76,
                MZ: 76,
                NA: 85,
                NC: 36,
                NE: 12,
                NF: 36,
                NZ: 89,
                PA: 65,
                PH: 51,
                PR: 80,
                PS: 14,
                PT: 72,
                PW: 96,
                PY: 46,
                QA: 89,
                RO: 7,
                RS: 98,
                TJ: 30,
                TK: 76,
                TL: 40,
                TM: 29,
                TN: 8,
                TO: 27,
                TR: 35,
                TT: 98,
                TV: 98,
                TZ: 99,
                UA: 49,
                UG: 95,
                UM: 40,
                UY: 13,
                UZ: 74,
                VA: 78,
                VC: 58,
                SS: 42,
                ST: 64,
                SV: 76,
                SX: 86,
                SY: 41,
                SZ: 99,
                TC: 83,
                TD: 56,
                TF: 13,
                TG: 56,
                TH: 11,
                UK: 51,
                RU: 92,
                RW: 71,
                SA: 12,
                SB: 7,
                SC: 18,
                SD: 32,
                SE: 62,
                SG: 0,
                SH: 12,
                SI: 0,
                SJ: 73,
                SK: 28,
                SL: 38,
                SM: 64,
                SN: 94,
                SO: 21,
                SR: 92,
                US: 44,
                ZW: 97,
                VE: 93,
                VG: 38,
                VI: 63,
                VN: 18,
                VU: 62,
                WF: 45,
                WS: 37,
                XA: 74,
                XB: 78,
                XC: 8,
                XD: 11,
                XE: 30,
                XF: 26,
                XG: 29,
                XH: 88,
                XI: 55,
                XL: 78,
                XM: 46,
                XN: 81,
                XO: 36,
                XU: 60,
                XV: 10,
                YE: 75,
                ZA: 32,
                ZM: 54,
            }
            map.statData().setData(data)
            map.build()
        </script>
    </body>
</html>
