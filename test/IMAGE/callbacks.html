<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    </head>

    <body>
        <div>
            <svg id="inset1"></svg>
        </div>
        <div>
            <svg id="map"></svg>
        </div>
        <div>
            <svg id="map2"></svg>
        </div>
        <div>
            <svg id="map3"></svg>
        </div>

        <script src="../../build/eurostatmap.js"></script>
        <script src="../data/nuts3.js"></script>
        <script src="../configs/insetConfig.js"></script>
        <script>
            let mapWidth = 638
            let mapHeight = 608

            basemap = function (id) {
                return (
                    eurostatmap
                        .map('ps')
                        .svgId(id)
                        .containerId(id)
                        .pixSize(7400)
                        .width(mapWidth)
                        .height(mapHeight)
                        .nutsLvl('mixed')
                        .psFill('#4ac499')
                        .psShape('square')
                        .psFillOpacity(0.8)
                        .psMaxSize(100)
                        .psMinSize(5)
                        // .legend({
                        //     ascending: false,
                        //     boxPadding: 5,
                        //     boxOpacity: 0,
                        //     sizeLegend: {
                        //         title: 'legeend',
                        //         cellNb: 3,
                        //     },
                        //     legendSpacing: 0,
                        // })

                        .callback((m) => console.log(id))
                )
            }
            let clonedConfig = JSON.parse(JSON.stringify(insetsConfig))
            let data = { ES: 10000, DE: 10000, FR: 5000, FRY: 1000, MT0: 20000, NO0: 50000 }

            // map 1
            let map = basemap('map').insets(insetsConfig)
            map.statData().setData(data)
            map.updateClassification()
            map.updateStyle()
            map.build()

            // map 2
            let map2 = basemap('map2').insets(clonedConfig)
            map2.statData().setData(data)
            map2.updateClassification()
            map2.updateStyle()
            map2.build()

            // map 2
            // let map3 = basemap('map3')
            // map3.statData('size').setData({ ES: 10000, DE: 10000, FR: 5000 })
            // map3.updateClassification()
            // map3.updateStyle()
            // map3.build()

            // setTimeout(() => {
            //     map.nutsrgFillStyle('red')
            // }, 2000)

            // setTimeout(() => {
            //   map.statData('size').setData({ ES: 0, DE: 10000, FR: 5000, PL:':' })
            //     map.psShape('square')
            //     .psFillOpacity(0.8)
            //     .psMaxSize(30)
            //     .psMinSize(2)
            //     .psFill("blue")
            //   map.updateStatValues();
            // }, 2000);

            // setTimeout(() => {
            //   map.statData('size').setData({ ES: 10000, DE: 10000, FR: 5000 });
            //   map.psMaxSize(80)
            //   map.updateStatValues();
            // }, 4000);

            // setTimeout(() => {
            //   map.statData('size').setData({ ES: 20000, DE: 100000, FR: 50000 });
            //   map.psMaxSize(30)
            //   map.updateStatValues();
            // }, 6000);

            // setTimeout(() => {
            //   map.statData('size').setData({ ES: 30000, DE: 10000, FR: 5000 });
            //   map.psMaxSize(50)
            //   map.updateStatValues();
            // }, 8000);

            // setTimeout(() => {
            //   map.statData('size').setData({ ES: 40000, DE: 10000, FR: 50000});
            //   map.psMaxSize(100)
            //   map.updateStatValues();
            // }, 10000);

            // setTimeout(() => {
            //    map.statData('size').setData({ "HU": 10, "NO": 20, "FI": 30 });
            //   map.psFill("yellow")
            //   map.updateStatValues();
            //   // map.updateClassification();
            //   // map.updateStyle();
            // }, 8000)
        </script>
    </body>
</html>
