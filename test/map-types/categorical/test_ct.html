<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    </head>

    <body>
        <svg id="map"></svg>
        <script src="../../../build/eurostatmap.js"></script>
        <script>
            const map = eurostatmap
                .map('ct')
                .title('NUTS urban/rural typology')
                .nutsLevel('mixed')
                //.stat('default', { ES: '1' })
                .stat({
                    csvURL: 'https://eurostat.github.io/eurostat-map/examples/urb_rur_typo.csv',
                    geoCol: 'NUTS_ID_2013',
                    valueCol: 'urban_rural',
                })
                .classToFillStyle({ urb: '#fdb462', int: '#ffffb3', rur: '#ccebc5' })
                .classToText({ urb: 'Urban', int: 'Intermediate', rur: 'Rural' })
                .legend({
                    labelFontSize: 14,
                    shapeWidth: 20,
                    shapeHeight: 18,
                    x: 10,
                    y: 170,
                })
                .build()

            map.statData().setData({ ES: 'int' })
            setTimeout(() => {
                map.statData().setData({ ES: 'int', FR: 'int', DE: 'int', MT: 'rur', IT: 'rur', SI: 'rur', RO: 'test', PL: 'test2' })
                map.updateStatValues()
            }, 2000)

            setTimeout(() => {
                map.classToFillStyle({ urb: 'red', int: 'green', rur: 'blue', test: 'orange' })
                map.classToText({ urb: 'Urban', int: 'Intermediate', rur: 'Rural', test: 'TEST' })
                map.updateClassification().updateStyle().updateLegend()
            }, 4000)
        </script>
    </body>
</html>
