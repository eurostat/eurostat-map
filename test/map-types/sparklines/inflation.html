<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    </head>

    <body>
        <svg id="map"></svg>
        <script src="../../../build/eurostatmap.js"></script>
        <script>
            eurostatmap
                .map('sparkline')
                .gridCartogram(true)
                //.width(800)
                .title('Inflation rate 2009 - 2021')
                .subtitle('Average annual rate of change, 2009-2021')
                .nutsLevel(0)
                .statSpark({
                    eurostatDatasetCode: 'prc_hicp_aind',
                    filters: { coicop: 'CP00', unit: 'RCH_A_AVG' },
                    dates: ['2009', '2010', '2011', '2012', '2013', '2014', '2015', '2016', '2017', '2018', '2019', '2020', '2021'],
                    labels: ['2009', '2010', '2011', '2012', '2013', '2014', '2015', '2016', '2017', '2018', '2019', '2020', '2021'],
                })
                .sparkType('line')
                .sparkLineOffsets({ x: 3, y: 5 })
                .sparkLineWidth(25)
                .sparkLineHeight(50)
                .sparkLineStrokeWidth(3)
                .sparkLineColor((itemValue) => {
                    if (itemValue > 0) return '#2644A7' //cobalt blue
                    if (itemValue < 0) return '#E04040' //sunset red
                    return '#999'
                })

                .sparkLineOpacity(0.7)
                .sparkLineCircleRadius(0.1)
                .sparkTooltipChart({
                    width: 150,
                    height: 50,
                    margin: { left: 30, right: 10, top: 10, bottom: 40 },
                    circleRadius: 1.5,
                })
                .footnote('All-items HICP')
                .legend({
                    title: 'Percentage change (%)',
                    x: 0,
                    y: 100,
                    width: 160,
                    noData: false,
                    scaleLegend: {
                        xAxisRotation: -70,
                        xAxisTickStep: 2, // show every 2nd tick
                        showMaxRegion: true, // shows the region with max value (default)
                        showExampleChart: true, // also show the average line
                    },
                })
                .showSourceLink(true)
                .build()
        </script>
    </body>
</html>
