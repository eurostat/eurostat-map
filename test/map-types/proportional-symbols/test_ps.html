<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>eurostat-map.js</title>
    </head>

    <body>
        <svg id="map"></svg>
        <svg id-="legend"></svg>
        <script src="../../../build/eurostatmap.js"></script>
        <script>
            // basic barebones proportional circles example

            const legendConfig = {
                svgId: 'legend',
                // boxPadding: 5,
                // boxOpacity: 0,
                // noDataShapeWidth: 26,
                // noDataShapeHeight: 14,
                sizeLegend: {
                    title: 'title',
                    // cellNb: 3,
                    // values: false,
                    noData: false,
                    // fontFill: '#000',
                },
            }

            let map = eurostatmap
                .map('ps')
                .nutsLevel(0)
                .title('Total GDP')
                .width(800)
                .stat('size', {
                    eurostatDatasetCode: 'nama_10r_3gdp',
                    unitText: 'Million EUR',
                    filters: { unit: 'MIO_EUR', time: '2018' },
                })
                .legend(legendConfig)
                .psShape('circle')
                .insets(false)
                .psMinSize(1)
                .psMaxSize(30) // try: cross, diamond, star, square, wye, circle, triangle, rectangle https://github.com/d3/d3-shape#symbols

            setTimeout(() => {
                map.statData('size').setData({
                    AL0: ':',
                    AT1: ':',
                    AT2: ':',
                    AT3: ':',
                    BE1: ':',
                    BE2: ':',
                    BE3: ':',
                    BG1: ':',
                    BG3: ':',
                    BG4: ':',
                    CH0: ':',
                    CY0: ':',
                    CZ0: ':',
                    DE1: ':',
                    DE2: ':',
                    DE3: ':',
                    DE4: ':',
                    DE5: ':',
                    DE6: ':',
                    DE7: ':',
                    DE8: ':',
                    DE9: ':',
                    DEA: ':',
                    DEB: ':',
                    DEC: ':',
                    DED: ':',
                    DEE: ':',
                    DEF: ':',
                    DEG: ':',
                    DK0: ':',
                    EE0: ':',
                    EL1: ':',
                    EL2: ':',
                    EL3: ':',
                    EL4: ':',
                    EL5: ':',
                    EL6: ':',
                    ES1: ':',
                    ES2: ':',
                    ES3: ':',
                    ES4: ':',
                    ES5: ':',
                    ES6: ':',
                    ES7: ':',
                    FI1: ':',
                    FI2: ':',
                    FR1: ':',
                    FR2: ':',
                    FR3: ':',
                    FR4: ':',
                    FR5: ':',
                    FR6: ':',
                    FR7: ':',
                    FR8: ':',
                    FR9: ':',
                    FRA: ':',
                    FRB: ':',
                    FRC: ':',
                    FRD: ':',
                    FRE: ':',
                    FRF: ':',
                    FRG: ':',
                    FRH: ':',
                    FRI: ':',
                    FRJ: ':',
                    FRK: ':',
                    FRL: ':',
                    FRM: ':',
                    FRY: ':',
                    HR0: ':',
                    HU1: ':',
                    HU2: ':',
                    HU3: ':',
                    IE0: ':',
                    IS0: ':',
                    ITC: ':',
                    ITD: ':',
                    ITE: ':',
                    ITF: ':',
                    ITG: ':',
                    ITH: ':',
                    ITI: ':',
                    LT0: ':',
                    LU0: ':',
                    LV0: ':',
                    ME0: ':',
                    MK0: ':',
                    MT0: ':',
                    NL1: ':',
                    NL2: ':',
                    NL3: ':',
                    NL4: ':',
                    NO0: ':',
                    PL1: ':',
                    PL2: ':',
                    PL3: ':',
                    PL4: ':',
                    PL5: ':',
                    PL6: ':',
                    PL7: ':',
                    PL8: ':',
                    PL9: ':',
                    PT1: ':',
                    PT2: ':',
                    PT3: ':',
                    RO1: ':',
                    RO2: ':',
                    RO3: ':',
                    RO4: ':',
                    RS1: ':',
                    RS2: ':',
                    SE1: ':',
                    SE2: ':',
                    SE3: ':',
                    SI0: ':',
                    SK0: ':',
                    TR1: ':',
                    TR2: ':',
                    TR3: ':',
                    TR4: ':',
                    TR5: ':',
                    TR6: ':',
                    TR7: ':',
                    TR8: ':',
                    TR9: ':',
                    TRA: ':',
                    TRB: ':',
                    TRC: ':',
                    UKC: ':',
                    UKD: ':',
                    UKE: ':',
                    UKF: ':',
                    UKG: ':',
                    UKH: ':',
                    UKI: ':',
                    UKJ: ':',
                    UKK: ':',
                    UKL: ':',
                    UKM: ':',
                    UKN: ':',
                }) // this causes issues in IMAGE
            }, 2000)
            map.build()
        </script>
    </body>
</html>
