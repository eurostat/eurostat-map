/*! /*! eurostat-map v4.2.10 | 2025 Eurostat | EUPL License. See https://github.com/eurostat/eurostat-map/blob/master/LICENSE * / */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.eurostatmap=t():e.eurostatmap=t()}(self,(()=>(onmessage=function(e){var t=e.data,o=t.nodes,r=t.radii,n=t.strengthX,s=t.strengthY,i=t.iterations,p=t.d3URL;importScripts(p||"https://unpkg.com/d3@7/dist/d3.min.js");for(var c=o.map((function(e,t){return e.x=e.properties.centroid[0],e.y=e.properties.centroid[1],e.r=r[t],e})),a=d3.forceSimulation(c).force("x",d3.forceX((function(e){return e.properties.centroid[0]})).strength(n)).force("y",d3.forceY((function(e){return e.properties.centroid[1]})).strength(s)).force("collide",d3.forceCollide((function(e){return e.r})).iterations(i)).stop(),d=Math.ceil(Math.log(a.alphaMin())/Math.log(1-a.alphaDecay())),f=0;f<d;f++)a.tick(),f%10==0&&postMessage({type:"progress",progress:f,total:d});postMessage({type:"end",nodes:c}),self.close()},{})));